services:
  - type: web
    name: superset
    env: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .
    # Using free tier - no plan specified
    envVars:
      - key: SUPERSET_SECRET_KEY
        generateValue: true
      # DATABASE_URL and SQLALCHEMY_DATABASE_URI will be set manually
      # Use Supabase/Neon free PostgreSQL (see instructions below)
      - key: WTF_CSRF_ENABLED
        value: "false"
      - key: FEATURE_FLAGS
        value: '{"EMBEDDED_SUPERSET": true}'
      - key: ENABLE_CORS
        value: "true"
      - key: SUPERSET_ENV
        value: production

